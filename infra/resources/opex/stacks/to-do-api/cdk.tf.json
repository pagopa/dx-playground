{
  "//": {
    "metadata": {
      "backend": "azurerm",
      "stackName": "to-do-api",
      "version": "0.21.0"
    },
    "outputs": {
    }
  },
  "provider": {
    "azurerm": [
      {
        "features": [
          {
          }
        ],
        "storage_use_azuread": true
      }
    ]
  },
  "resource": {
    "azurerm_monitor_scheduled_query_rules_alert": {
      "avail-alert-delete-tasks--taskId": {
        "//": {
          "metadata": {
            "path": "to-do-api/avail-alert-delete-tasks--taskId",
            "uniqueId": "avail-alert-delete-tasks--taskId"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-Avail-to-do-api-delete-tasks--taskId",
        "query": "\n  let threshold = 0.99;\n  AzureDiagnostics\n  | where ResourceProvider == \"MICROSOFT.APIMANAGEMENT\"\n    and url_s matches regex \"/tasks/[^/]+$\"\n  | summarize\n    Total=count(),\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\n  | extend availability=toreal(Success) / Total\n  | where availability < threshold\n",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "avail-alert-get-info": {
        "//": {
          "metadata": {
            "path": "to-do-api/avail-alert-get-info",
            "uniqueId": "avail-alert-get-info"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-Avail-to-do-api-get-info",
        "query": "\n  let threshold = 0.99;\n  AzureDiagnostics\n  | where ResourceProvider == \"MICROSOFT.APIMANAGEMENT\"\n    and url_s matches regex \"/info$\"\n  | summarize\n    Total=count(),\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\n  | extend availability=toreal(Success) / Total\n  | where availability < threshold\n",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "avail-alert-get-tasks": {
        "//": {
          "metadata": {
            "path": "to-do-api/avail-alert-get-tasks",
            "uniqueId": "avail-alert-get-tasks"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-Avail-to-do-api-get-tasks",
        "query": "\n  let threshold = 0.99;\n  AzureDiagnostics\n  | where ResourceProvider == \"MICROSOFT.APIMANAGEMENT\"\n    and url_s matches regex \"/tasks$\"\n  | summarize\n    Total=count(),\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\n  | extend availability=toreal(Success) / Total\n  | where availability < threshold\n",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "avail-alert-get-tasks--taskId": {
        "//": {
          "metadata": {
            "path": "to-do-api/avail-alert-get-tasks--taskId",
            "uniqueId": "avail-alert-get-tasks--taskId"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-Avail-to-do-api-get-tasks--taskId",
        "query": "\n  let threshold = 0.99;\n  AzureDiagnostics\n  | where ResourceProvider == \"MICROSOFT.APIMANAGEMENT\"\n    and url_s matches regex \"/tasks/[^/]+$\"\n  | summarize\n    Total=count(),\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\n  | extend availability=toreal(Success) / Total\n  | where availability < threshold\n",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "avail-alert-post-tasks": {
        "//": {
          "metadata": {
            "path": "to-do-api/avail-alert-post-tasks",
            "uniqueId": "avail-alert-post-tasks"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-Avail-to-do-api-post-tasks",
        "query": "\n  let threshold = 0.99;\n  AzureDiagnostics\n  | where ResourceProvider == \"MICROSOFT.APIMANAGEMENT\"\n    and url_s matches regex \"/tasks$\"\n  | summarize\n    Total=count(),\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\n  | extend availability=toreal(Success) / Total\n  | where availability < threshold\n",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "resptime-alert-delete-tasks--taskId": {
        "//": {
          "metadata": {
            "path": "to-do-api/resptime-alert-delete-tasks--taskId",
            "uniqueId": "resptime-alert-delete-tasks--taskId"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-RespTime-to-do-api-delete-tasks--taskId",
        "query": "\n  let threshold = 1000;\n  AzureDiagnostics\n  | where url_s matches regex \"/tasks/[^/]+$\"\n  | summarize\n      watermark=threshold,\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\n  | where duration_percentile_95 > threshold\n  ",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "resptime-alert-get-info": {
        "//": {
          "metadata": {
            "path": "to-do-api/resptime-alert-get-info",
            "uniqueId": "resptime-alert-get-info"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-RespTime-to-do-api-get-info",
        "query": "\n  let threshold = 1000;\n  AzureDiagnostics\n  | where url_s matches regex \"/info$\"\n  | summarize\n      watermark=threshold,\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\n  | where duration_percentile_95 > threshold\n  ",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "resptime-alert-get-tasks": {
        "//": {
          "metadata": {
            "path": "to-do-api/resptime-alert-get-tasks",
            "uniqueId": "resptime-alert-get-tasks"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-RespTime-to-do-api-get-tasks",
        "query": "\n  let threshold = 1000;\n  AzureDiagnostics\n  | where url_s matches regex \"/tasks$\"\n  | summarize\n      watermark=threshold,\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\n  | where duration_percentile_95 > threshold\n  ",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "resptime-alert-get-tasks--taskId": {
        "//": {
          "metadata": {
            "path": "to-do-api/resptime-alert-get-tasks--taskId",
            "uniqueId": "resptime-alert-get-tasks--taskId"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-RespTime-to-do-api-get-tasks--taskId",
        "query": "\n  let threshold = 1000;\n  AzureDiagnostics\n  | where url_s matches regex \"/tasks/[^/]+$\"\n  | summarize\n      watermark=threshold,\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\n  | where duration_percentile_95 > threshold\n  ",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      },
      "resptime-alert-post-tasks": {
        "//": {
          "metadata": {
            "path": "to-do-api/resptime-alert-post-tasks",
            "uniqueId": "resptime-alert-post-tasks"
          }
        },
        "action": {
          "action_group": [
            "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dev/providers/microsoft.insights/actionGroups/dx-d-itn-opex-rg-01"
          ]
        },
        "data_source_id": "/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01",
        "frequency": 5,
        "location": "Italy North",
        "name": "Alert-RespTime-to-do-api-post-tasks",
        "query": "\n  let threshold = 1000;\n  AzureDiagnostics\n  | where url_s matches regex \"/tasks$\"\n  | summarize\n      watermark=threshold,\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\n  | where duration_percentile_95 > threshold\n  ",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "severity": 2,
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository"
        },
        "time_window": 10,
        "trigger": {
          "operator": "GreaterThan",
          "threshold": 0
        }
      }
    },
    "azurerm_portal_dashboard": {
      "api-dashboard": {
        "//": {
          "metadata": {
            "path": "to-do-api/api-dashboard",
            "uniqueId": "api-dashboard"
          }
        },
        "dashboard_properties": "{\"lenses\":{\"0\":{\"order\":0,\"parts\":{\"0\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/info$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Availability (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /info\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"availability\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"real\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /info\",\"PartTitle\":\"Availability (PT5M)\",\"Query\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/info$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":0}},\"1\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/info$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Response Codes (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /info\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"HTTPStatus\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"count_\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /info\",\"PartTitle\":\"Response Codes (PT5M)\",\"Query\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/info$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \",\"SpecificChart\":\"StackedArea\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":0}},\"2\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/info$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"95th Percentile Response Time (ms)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /info\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"duration_percentile_95\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /info\",\"PartTitle\":\"95th Percentile Response Time (ms)\",\"Query\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/info$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":0}},\"3\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Availability (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"POST /tasks\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"availability\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"real\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"POST /tasks\",\"PartTitle\":\"Availability (PT5M)\",\"Query\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":4}},\"4\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Response Codes (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"POST /tasks\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"HTTPStatus\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"count_\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"POST /tasks\",\"PartTitle\":\"Response Codes (PT5M)\",\"Query\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \",\"SpecificChart\":\"StackedArea\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":4}},\"5\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"95th Percentile Response Time (ms)\"},{\"name\":\"PartSubTitle\",\"value\":\"POST /tasks\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"duration_percentile_95\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"POST /tasks\",\"PartTitle\":\"95th Percentile Response Time (ms)\",\"Query\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":4}},\"6\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Availability (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /tasks\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"availability\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"real\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /tasks\",\"PartTitle\":\"Availability (PT5M)\",\"Query\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":8}},\"7\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Response Codes (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /tasks\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"HTTPStatus\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"count_\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /tasks\",\"PartTitle\":\"Response Codes (PT5M)\",\"Query\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \",\"SpecificChart\":\"StackedArea\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":8}},\"8\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"95th Percentile Response Time (ms)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /tasks\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"duration_percentile_95\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /tasks\",\"PartTitle\":\"95th Percentile Response Time (ms)\",\"Query\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":8}},\"9\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Availability (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /tasks/{taskId}\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"availability\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"real\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /tasks/{taskId}\",\"PartTitle\":\"Availability (PT5M)\",\"Query\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":12}},\"10\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Response Codes (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /tasks/{taskId}\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"HTTPStatus\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"count_\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /tasks/{taskId}\",\"PartTitle\":\"Response Codes (PT5M)\",\"Query\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \",\"SpecificChart\":\"StackedArea\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":12}},\"11\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"95th Percentile Response Time (ms)\"},{\"name\":\"PartSubTitle\",\"value\":\"GET /tasks/{taskId}\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"duration_percentile_95\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"GET /tasks/{taskId}\",\"PartTitle\":\"95th Percentile Response Time (ms)\",\"Query\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":12}},\"12\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Availability (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"DELETE /tasks/{taskId}\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"availability\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"real\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"DELETE /tasks/{taskId}\",\"PartTitle\":\"Availability (PT5M)\",\"Query\":\"\\n  let threshold = 0.99;\\n  AzureDiagnostics\\n  | where ResourceProvider == \\\"MICROSOFT.APIMANAGEMENT\\\"\\n    and url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n    Total=count(),\\n    Success=count(responseCode_d < 500) by bin(TimeGenerated, 5m)\\n  | extend availability=toreal(Success) / Total\\n  | project TimeGenerated, availability, watermark=threshold\\n   | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"availability(%)\\\")\\n\",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":0,\"y\":16}},\"13\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"Response Codes (PT5M)\"},{\"name\":\"PartSubTitle\",\"value\":\"DELETE /tasks/{taskId}\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[{\"name\":\"HTTPStatus\",\"type\":\"string\"}],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"count_\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"DELETE /tasks/{taskId}\",\"PartTitle\":\"Response Codes (PT5M)\",\"Query\":\"\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | extend HTTPStatus = case(\\n    responseCode_d between (100 .. 199), \\\"1XX\\\",\\n    responseCode_d between (200 .. 299), \\\"2XX\\\",\\n    responseCode_d between (300 .. 399), \\\"3XX\\\",\\n    responseCode_d between (400 .. 499), \\\"4XX\\\",\\n    \\\"5XX\\\")\\n  | summarize count() by HTTPStatus, bin(TimeGenerated, 5m)\\n  | render areachart with (xtitle = \\\"time\\\", ytitle= \\\"count\\\")\\n  \",\"SpecificChart\":\"StackedArea\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":6,\"y\":16}},\"14\":{\"metadata\":{\"inputs\":[{\"name\":\"Scope\",\"value\":{\"resourceIds\":[\"/subscriptions/d7de83e0-0571-40ad-b63a-64c942385eae/resourceGroups/dx-d-itn-test-rg-01/providers/Microsoft.OperationalInsights/workspaces/dx-d-itn-playground-azure-function-v3-log-01\"]}},{\"name\":\"Query\",\"value\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \"},{\"name\":\"Version\",\"value\":\"2.0\"},{\"name\":\"TimeRange\",\"value\":\"PT4H\"},{\"name\":\"PartTitle\",\"value\":\"95th Percentile Response Time (ms)\"},{\"name\":\"PartSubTitle\",\"value\":\"DELETE /tasks/{taskId}\"}],\"settings\":{\"content\":{\"Dimensions\":{\"aggregation\":\"Sum\",\"splitBy\":[],\"xAxis\":{\"name\":\"TimeGenerated\",\"type\":\"datetime\"},\"yAxis\":[{\"name\":\"duration_percentile_95\",\"type\":\"real\"},{\"name\":\"watermark\",\"type\":\"long\"}]},\"LegendOptions\":{\"isEnabled\":true,\"position\":\"Bottom\"},\"PartSubTitle\":\"DELETE /tasks/{taskId}\",\"PartTitle\":\"95th Percentile Response Time (ms)\",\"Query\":\"\\n  let threshold = 1000;\\n  AzureDiagnostics\\n  | where url_s matches regex \\\"/tasks/[^/]+$\\\"\\n  | summarize\\n      watermark=threshold,\\n      duration_percentile_95=percentiles(todouble(DurationMs)/1000, 95) by bin(TimeGenerated, 5m)\\n  | render timechart with (xtitle = \\\"time\\\", ytitle= \\\"response time(s)\\\")\\n  \",\"SpecificChart\":\"Line\"}},\"type\":\"Extension/Microsoft_OperationsManagementSuite_Workspace/PartType/LogsDashboardPart\"},\"position\":{\"colSpan\":6,\"rowSpan\":4,\"x\":12,\"y\":16}}}}},\"metadata\":{\"model\":{\"timeRange\":{\"type\":\"MsPortalFx.Composition.Configuration.ValueTypes.TimeRange\",\"value\":{\"relative\":{\"duration\":4,\"timeUnit\":2}}}}}}",
        "location": "Italy North",
        "name": "Dashboard-to-do-api",
        "resource_group_name": "${azurerm_resource_group.rg.name}",
        "tags": {
          "BusinessUnit": "DevEx",
          "CostCenter": "TS000 - Tecnologia e Servizi",
          "CreatedBy": "Terraform",
          "Environment": "Dev",
          "ManagementTeam": "Developer Experience",
          "Scope": "Opex PoC",
          "Source": "https://github.com/pagopa/dx-playground/tree/main/infra/repository",
          "hidden-title": "Dashboard-to-do-api"
        }
      }
    },
    "azurerm_resource_group": {
      "rg": {
        "//": {
          "metadata": {
            "path": "to-do-api/rg",
            "uniqueId": "rg"
          }
        },
        "location": "Italy North",
        "name": "dx-d-itn-opex-rg-01"
      }
    }
  },
  "terraform": {
    "backend": {
      "azurerm": {
        "container_name": "terraform-state",
        "key": "dx.opex.to-do-api.tfstate",
        "resource_group_name": "terraform-state-rg",
        "storage_account_name": "tfdevdx"
      }
    },
    "required_providers": {
      "azurerm": {
        "source": "azurerm",
        "version": "4.33.0"
      }
    }
  }
}