
Warning: Provider development overrides are in effect

The following provider development overrides are set in the CLI configuration:
 - local-pagopa-dx/azure in /Users/mario.mupo/Projects/DEVEX/terraform-provider-azure
 - local/pagopa-azure in /Users/mario.mupo/Projects/DEVEX/dx/apps/providers/azure/...

The behavior may therefore not match any released version of the provider and applying changes may cause the state to become incompatible with published
releases.
module.core_values.data.terraform_remote_state.core: Reading...
module.bootstrap.data.github_organization_teams.all: Reading...
module.bootstrap.module.github_repository["repo"].github_repository.this: Refreshing state... [id=dx-playground]
data.azuread_group.externals: Reading...
data.azuread_group.developers: Reading...
data.azuread_group.admins: Reading...
data.azuread_group.developers: Read complete after 0s [id=97bfad61-6cc0-484e-80ed-bef35f6a61ed]
data.azuread_group.admins: Read complete after 0s [id=bef21768-6ebc-4018-9010-ff67c295bb34]
data.azuread_group.externals: Read complete after 0s [id=7c955ba9-53cb-4d1c-91dd-4720b4b1222f]
module.core_values.data.terraform_remote_state.core: Read complete after 1s
module.bootstrap.module.github_repository["repo"].github_branch_default.main: Refreshing state... [id=dx-playground]
module.bootstrap.data.github_organization_teams.all: Read complete after 3s [id=MDEyOk9yZ2FuaXphdGlvbjU3NzQyMzY3]
data.azurerm_resource_group.tfstate: Reading...
module.bootstrap.module.github_runner.data.azurerm_client_config.current: Reading...
data.azurerm_subscription.current: Reading...
data.azurerm_client_config.current: Reading...
data.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9NTU5YzI3NTItNzc4OC00NjU5LTg4MTAtMTgzN2Q5ZDgwN2E5O3N1YnNjcmlwdGlvbklkPTM1ZTZlM2IyLTQzODgtNDcwZS1hMWI5LWFkM2JjMzQzMjZkMTt0ZW5hbnRJZD03Nzg4ZWRhZi0wMzQ2LTQwNjgtOWQ3OS1jODY4YWVkMTViM2Q=]
module.bootstrap.module.github_runner.data.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9NTU5YzI3NTItNzc4OC00NjU5LTg4MTAtMTgzN2Q5ZDgwN2E5O3N1YnNjcmlwdGlvbklkPTM1ZTZlM2IyLTQzODgtNDcwZS1hMWI5LWFkM2JjMzQzMjZkMTt0ZW5hbnRJZD03Nzg4ZWRhZi0wMzQ2LTQwNjgtOWQ3OS1jODY4YWVkMTViM2Q=]
data.azurerm_resource_group.tfstate: Read complete after 1s [id=/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01]
data.azurerm_subscription.current: Read complete after 1s [id=/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1]

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  + create
  ~ update in-place

Terraform will perform the following actions:

  # module.bootstrap.azurerm_federated_identity_credential.github_app_cd will be created
  + resource "azurerm_federated_identity_credential" "github_app_cd" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = "dx-playground-environment-app-dev-cd"
      + parent_id           = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + subject             = "repo:pagopa/dx-playground:environment:app-dev-cd"
    }

  # module.bootstrap.azurerm_federated_identity_credential.github_infra_cd will be created
  + resource "azurerm_federated_identity_credential" "github_infra_cd" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = "dx-playground-environment-infra-dev-cd"
      + parent_id           = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + subject             = "repo:pagopa/dx-playground:environment:infra-dev-cd"
    }

  # module.bootstrap.azurerm_federated_identity_credential.github_infra_ci will be created
  + resource "azurerm_federated_identity_credential" "github_infra_ci" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = "dx-playground-environment-infra-dev-ci"
      + parent_id           = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + subject             = "repo:pagopa/dx-playground:environment:infra-dev-ci"
    }

  # module.bootstrap.azurerm_federated_identity_credential.github_opex_cd will be created
  + resource "azurerm_federated_identity_credential" "github_opex_cd" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = "dx-playground-environment-opex-dev-cd"
      + parent_id           = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + subject             = "repo:pagopa/dx-playground:environment:opex-dev-cd"
    }

  # module.bootstrap.azurerm_federated_identity_credential.github_opex_ci will be created
  + resource "azurerm_federated_identity_credential" "github_opex_ci" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = "dx-playground-environment-opex-dev-ci"
      + parent_id           = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + subject             = "repo:pagopa/dx-playground:environment:opex-dev-ci"
    }

  # module.bootstrap.azurerm_resource_group.main will be created
  + resource "azurerm_resource_group" "main" {
      + id       = (known after apply)
      + location = "italynorth"
      + name     = "dx-d-itn-playground-rg-01"
      + tags     = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "azure_github_environment_bootstrap"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "2.4.2"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }
    }

  # module.bootstrap.azurerm_role_assignment.admins_group_rgs["main"] will be created
  + resource "azurerm_role_assignment" "admins_group_rgs" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "bef21768-6ebc-4018-9010-ff67c295bb34"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.admins_group_rgs_kv_admin["main"] will be created
  + resource "azurerm_role_assignment" "admins_group_rgs_kv_admin" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "bef21768-6ebc-4018-9010-ff67c295bb34"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.admins_group_rgs_kv_data["main"] will be created
  + resource "azurerm_role_assignment" "admins_group_rgs_kv_data" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "bef21768-6ebc-4018-9010-ff67c295bb34"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Data Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.app_cd_rgs_blob_contributor["main"] will be created
  + resource "azurerm_role_assignment" "app_cd_rgs_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.app_cd_rgs_cae_contributor["main"] will be created
  + resource "azurerm_role_assignment" "app_cd_rgs_cae_contributor" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Container Apps Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.app_cd_rgs_cdn_profile_contributor["main"] will be created
  + resource "azurerm_role_assignment" "app_cd_rgs_cdn_profile_contributor" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "CDN Profile Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.app_cd_rgs_website_contributor["main"] will be created
  + resource "azurerm_role_assignment" "app_cd_rgs_website_contributor" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Website Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.app_cd_subscription_reader will be created
  + resource "azurerm_role_assignment" "app_cd_subscription_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground App CD identity to read resources at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.app_cd_tf_rg_blob_contributor will be created
  + resource "azurerm_role_assignment" "app_cd_tf_rg_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground App CD identity to apply changes to the Terraform state file Storage Account scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01/providers/Microsoft.Storage/storageAccounts/dxditntfstatest01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.devs_group_rgs["main"] will be created
  + resource "azurerm_role_assignment" "devs_group_rgs" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "97bfad61-6cc0-484e-80ed-bef35f6a61ed"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.devs_group_tf_rgs_kv_secr["main"] will be created
  + resource "azurerm_role_assignment" "devs_group_tf_rgs_kv_secr" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "97bfad61-6cc0-484e-80ed-bef35f6a61ed"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets Officer"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.externals_group_rgs["main"] will be created
  + resource "azurerm_role_assignment" "externals_group_rgs" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = "7c955ba9-53cb-4d1c-91dd-4720b4b1222f"
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rg_network_contributor will be created
  + resource "azurerm_role_assignment" "infra_cd_rg_network_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to associate Private DNS Zones and Private Endpoints at resource group level"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-network-rg-01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rg_private_dns_zone_contributor will be created
  + resource "azurerm_role_assignment" "infra_cd_rg_private_dns_zone_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to manage Private DNS Zones at resource group level"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Private DNS Zone Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-network-rg-01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_ca_contributor["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_ca_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to write Container App configuration at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Container Apps Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_contributor["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_contributor" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_kv_cert["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_kv_cert" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to change KeyVault's certificates at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Certificates Officer"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_kv_crypto["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_kv_crypto" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to change KeyVault's keys at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Crypto Officer"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_kv_secr["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_kv_secr" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to changes to KeyVault's secrets at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets Officer"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_st_blob_contributor["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_st_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to write Storage Account blobs monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_rgs_user_access_admin["main"] will be created
  + resource "azurerm_role_assignment" "infra_cd_rgs_user_access_admin" {
      + condition_version                = (known after apply)
      + description                      = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "User Access Administrator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_st_tf_blob_contributor will be created
  + resource "azurerm_role_assignment" "infra_cd_st_tf_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to apply changes to the Terraform state file Storage Account scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01/providers/Microsoft.Storage/storageAccounts/dxditntfstatest01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_subscription_rbac_admin will be created
  + resource "azurerm_role_assignment" "infra_cd_subscription_rbac_admin" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to manage IAM roles at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Role Based Access Control Administrator"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_subscription_reader will be created
  + resource "azurerm_role_assignment" "infra_cd_subscription_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to read resources at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_cd_vnet_network_contributor will be created
  + resource "azurerm_role_assignment" "infra_cd_vnet_network_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to manage Private Endpoints at VNet scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Network Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-network-rg-01/providers/Microsoft.Network/virtualNetworks/dx-d-itn-common-vnet-01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_ca_operator["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_ca_operator" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read Container App configuration at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Container Apps Operator"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_cosmos_contributor["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_cosmos_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read Cosmos DB configuration at resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "DocumentDB Account Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_kv_cert["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_kv_cert" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read KeyVault's certificates at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Certificate User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_kv_crypto["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_kv_crypto" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read KeyVault's keys at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Crypto User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_kv_secr["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_kv_secr" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read KeyVault's secrets at monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Key Vault Secrets User"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_st_blob_reader["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_st_blob_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read Storage Account blobs monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_st_queue_contributor["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_st_queue_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to write Storage Account queues monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Queue Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_st_queue_reader["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_st_queue_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read Storage Account queues monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Queue Data Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_st_table_contributor["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_st_table_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CD identity to write Storage Account tables monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Table Data Contributor"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_rgs_st_table_reader["main"] will be created
  + resource "azurerm_role_assignment" "infra_ci_rgs_st_table_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read Storage Account tables monorepository resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Table Data Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_subscription_data_access will be created
  + resource "azurerm_role_assignment" "infra_ci_subscription_data_access" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read resources' keys and data at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader and Data Access"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_subscription_pagopa_iac_reader will be created
  + resource "azurerm_role_assignment" "infra_ci_subscription_pagopa_iac_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read resources configuration at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "PagoPA IaC Reader"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_subscription_reader will be created
  + resource "azurerm_role_assignment" "infra_ci_subscription_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to read resources at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.infra_ci_tf_st_blob_contributor will be created
  + resource "azurerm_role_assignment" "infra_ci_tf_st_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Infra CI identity to apply changes to the Terraform state file Storage Account scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01/providers/Microsoft.Storage/storageAccounts/dxditntfstatest01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_cd_rg_monitoring_contributor will be created
  + resource "azurerm_role_assignment" "opex_cd_rg_monitoring_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CD identity to query logs for Opex dashboards at shared resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Monitoring Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-opex-rg-01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_cd_rg_opex_contributor will be created
  + resource "azurerm_role_assignment" "opex_cd_rg_opex_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CD identity to apply changes to Opex dashboards at shared resource group scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "PagoPA Opex Dashboards Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-opex-rg-01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_cd_subscription_reader will be created
  + resource "azurerm_role_assignment" "opex_cd_subscription_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CD identity to read resources at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_cd_tf_rg_blob_contributor will be created
  + resource "azurerm_role_assignment" "opex_cd_tf_rg_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CD identity to apply changes to the Terraform state file Storage Account scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01/providers/Microsoft.Storage/storageAccounts/dxditntfstatest01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_cd_tf_rg_blob_data_access will be created
  + resource "azurerm_role_assignment" "opex_cd_tf_rg_blob_data_access" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CD identity to read resources' keys at the Terraform state file Storage Account scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader and Data Access"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01/providers/Microsoft.Storage/storageAccounts/dxditntfstatest01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_ci_subscription_data_access will be created
  + resource "azurerm_role_assignment" "opex_ci_subscription_data_access" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CI identity to read resources' keys and data at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader and Data Access"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_ci_subscription_reader will be created
  + resource "azurerm_role_assignment" "opex_ci_subscription_reader" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CI identity to read resources at subscription scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_role_assignment.opex_ci_tf_rg_blob_contributor will be created
  + resource "azurerm_role_assignment" "opex_ci_tf_rg_blob_contributor" {
      + condition_version                = (known after apply)
      + description                      = "Allow dx-playground Opex CI identity to apply changes to the Terraform state file Storage Account scope"
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Contributor"
      + scope                            = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-tfstate-rg-01/providers/Microsoft.Storage/storageAccounts/dxditntfstatest01"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.bootstrap.azurerm_user_assigned_identity.app_cd will be created
  + resource "azurerm_user_assigned_identity" "app_cd" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "italynorth"
      + name                = "dx-d-itn-playground-app-github-cd-id-01"
      + principal_id        = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + tags                = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "azure_github_environment_bootstrap"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "2.4.2"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }
      + tenant_id           = (known after apply)
    }

  # module.bootstrap.azurerm_user_assigned_identity.infra_cd will be created
  + resource "azurerm_user_assigned_identity" "infra_cd" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "italynorth"
      + name                = "dx-d-itn-playground-infra-github-cd-id-01"
      + principal_id        = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + tags                = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "azure_github_environment_bootstrap"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "2.4.2"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }
      + tenant_id           = (known after apply)
    }

  # module.bootstrap.azurerm_user_assigned_identity.infra_ci will be created
  + resource "azurerm_user_assigned_identity" "infra_ci" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "italynorth"
      + name                = "dx-d-itn-playground-infra-github-ci-id-01"
      + principal_id        = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + tags                = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "azure_github_environment_bootstrap"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "2.4.2"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }
      + tenant_id           = (known after apply)
    }

  # module.bootstrap.azurerm_user_assigned_identity.opex_cd will be created
  + resource "azurerm_user_assigned_identity" "opex_cd" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "italynorth"
      + name                = "dx-d-itn-playground-opex-github-cd-id-01"
      + principal_id        = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + tags                = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "azure_github_environment_bootstrap"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "2.4.2"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }
      + tenant_id           = (known after apply)
    }

  # module.bootstrap.azurerm_user_assigned_identity.opex_ci will be created
  + resource "azurerm_user_assigned_identity" "opex_ci" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "italynorth"
      + name                = "dx-d-itn-playground-opex-github-ci-id-01"
      + principal_id        = (known after apply)
      + resource_group_name = "dx-d-itn-playground-rg-01"
      + tags                = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "azure_github_environment_bootstrap"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "2.4.2"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }
      + tenant_id           = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.app_cd["ARM_CLIENT_ID"] will be created
  + resource "github_actions_environment_secret" "app_cd" {
      + created_at      = (known after apply)
      + environment     = "app-dev-cd"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_CLIENT_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.app_cd["ARM_SUBSCRIPTION_ID"] will be created
  + resource "github_actions_environment_secret" "app_cd" {
      + created_at      = (known after apply)
      + environment     = "app-dev-cd"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_SUBSCRIPTION_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.infra_cd["ARM_CLIENT_ID"] will be created
  + resource "github_actions_environment_secret" "infra_cd" {
      + created_at      = (known after apply)
      + environment     = "infra-dev-cd"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_CLIENT_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.infra_cd["ARM_SUBSCRIPTION_ID"] will be created
  + resource "github_actions_environment_secret" "infra_cd" {
      + created_at      = (known after apply)
      + environment     = "infra-dev-cd"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_SUBSCRIPTION_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.infra_ci["ARM_CLIENT_ID"] will be created
  + resource "github_actions_environment_secret" "infra_ci" {
      + created_at      = (known after apply)
      + environment     = "infra-dev-ci"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_CLIENT_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.infra_ci["ARM_SUBSCRIPTION_ID"] will be created
  + resource "github_actions_environment_secret" "infra_ci" {
      + created_at      = (known after apply)
      + environment     = "infra-dev-ci"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_SUBSCRIPTION_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.opex_cd["ARM_CLIENT_ID"] will be created
  + resource "github_actions_environment_secret" "opex_cd" {
      + created_at      = (known after apply)
      + environment     = "opex-dev-cd"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_CLIENT_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.opex_cd["ARM_SUBSCRIPTION_ID"] will be created
  + resource "github_actions_environment_secret" "opex_cd" {
      + created_at      = (known after apply)
      + environment     = "opex-dev-cd"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_SUBSCRIPTION_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.opex_ci["ARM_CLIENT_ID"] will be created
  + resource "github_actions_environment_secret" "opex_ci" {
      + created_at      = (known after apply)
      + environment     = "opex-dev-ci"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_CLIENT_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_environment_secret.opex_ci["ARM_SUBSCRIPTION_ID"] will be created
  + resource "github_actions_environment_secret" "opex_ci" {
      + created_at      = (known after apply)
      + environment     = "opex-dev-ci"
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_SUBSCRIPTION_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_actions_secret.repo_secrets["ARM_TENANT_ID"] will be created
  + resource "github_actions_secret" "repo_secrets" {
      + created_at      = (known after apply)
      + id              = (known after apply)
      + plaintext_value = (sensitive value)
      + repository      = "dx-playground"
      + secret_name     = "ARM_TENANT_ID"
      + updated_at      = (known after apply)
    }

  # module.bootstrap.github_repository_environment.app_cd will be created
  + resource "github_repository_environment" "app_cd" {
      + can_admins_bypass   = true
      + environment         = "app-dev-cd"
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = "dx-playground"

      + deployment_branch_policy {
          + custom_branch_policies = true
          + protected_branches     = false
        }

      + reviewers {
          + teams = [
              + 9588424,
            ]
        }
    }

  # module.bootstrap.github_repository_environment.infra_cd will be created
  + resource "github_repository_environment" "infra_cd" {
      + can_admins_bypass   = true
      + environment         = "infra-dev-cd"
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = "dx-playground"

      + deployment_branch_policy {
          + custom_branch_policies = true
          + protected_branches     = false
        }

      + reviewers {
          + teams = [
              + 9588424,
            ]
        }
    }

  # module.bootstrap.github_repository_environment.infra_ci will be created
  + resource "github_repository_environment" "infra_ci" {
      + can_admins_bypass   = true
      + environment         = "infra-dev-ci"
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = "dx-playground"

      + deployment_branch_policy {
          + custom_branch_policies = true
          + protected_branches     = false
        }
    }

  # module.bootstrap.github_repository_environment.opex_cd will be created
  + resource "github_repository_environment" "opex_cd" {
      + can_admins_bypass   = true
      + environment         = "opex-dev-cd"
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = "dx-playground"

      + deployment_branch_policy {
          + custom_branch_policies = true
          + protected_branches     = false
        }

      + reviewers {
          + teams = [
              + 9588424,
            ]
        }
    }

  # module.bootstrap.github_repository_environment.opex_ci will be created
  + resource "github_repository_environment" "opex_ci" {
      + can_admins_bypass   = true
      + environment         = "opex-dev-ci"
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = "dx-playground"

      + deployment_branch_policy {
          + custom_branch_policies = true
          + protected_branches     = false
        }
    }

  # module.bootstrap.github_repository_environment_deployment_policy.app_cd_branch["main"] will be created
  + resource "github_repository_environment_deployment_policy" "app_cd_branch" {
      + branch_pattern = "main"
      + environment    = "app-dev-cd"
      + id             = (known after apply)
      + repository     = "dx-playground"
    }

  # module.bootstrap.github_repository_environment_deployment_policy.infra_cd_branch["main"] will be created
  + resource "github_repository_environment_deployment_policy" "infra_cd_branch" {
      + branch_pattern = "main"
      + environment    = "infra-dev-cd"
      + id             = (known after apply)
      + repository     = "dx-playground"
    }

  # module.bootstrap.github_repository_environment_deployment_policy.opex_cd_branch["main"] will be created
  + resource "github_repository_environment_deployment_policy" "opex_cd_branch" {
      + branch_pattern = "main"
      + environment    = "opex-dev-cd"
      + id             = (known after apply)
      + repository     = "dx-playground"
    }

  # module.bootstrap.module.github_repository["repo"].github_actions_repository_permissions.repo will be created
  + resource "github_actions_repository_permissions" "repo" {
      + allowed_actions = "all"
      + enabled         = true
      + id              = (known after apply)
      + repository      = "dx-playground"
    }

  # module.bootstrap.module.github_repository["repo"].github_branch_protection.main will be created
  + resource "github_branch_protection" "main" {
      + allows_deletions                = false
      + allows_force_pushes             = false
      + enforce_admins                  = true
      + id                              = (known after apply)
      + lock_branch                     = false
      + pattern                         = "main"
      + repository_id                   = "dx-playground"
      + require_conversation_resolution = true
      + require_signed_commits          = false
      + required_linear_history         = false

      + required_pull_request_reviews {
          + dismiss_stale_reviews           = false
          + require_code_owner_reviews      = true
          + require_last_push_approval      = false
          + required_approving_review_count = 1
          + restrict_dismissals             = true
        }

      + required_status_checks {
          + strict = false
        }
    }

  # module.bootstrap.module.github_repository["repo"].github_repository.this will be updated in-place
  ~ resource "github_repository" "this" {
      + archive_on_destroy          = true
        id                          = "dx-playground"
        name                        = "dx-playground"
        # (36 unchanged attributes hidden)

      ~ security_and_analysis {
          + advanced_security {
              + status = "enabled"
            }

            # (2 unchanged blocks hidden)
        }
    }

  # module.bootstrap.module.github_repository["repo"].null_resource.workflow_permissions will be created
  + resource "null_resource" "workflow_permissions" {
      + id       = (known after apply)
      + triggers = {
          + "repo" = "pagopa/dx-playground"
        }
    }

  # module.bootstrap.module.github_runner.azurerm_container_app_job.github_runner will be created
  + resource "azurerm_container_app_job" "github_runner" {
      + container_app_environment_id = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-github-runner-rg-01/providers/Microsoft.App/managedEnvironments/dx-d-itn-github-runner-cae-01"
      + event_stream_endpoint        = (known after apply)
      + id                           = (known after apply)
      + location                     = "italynorth"
      + name                         = "dx-d-itn-dx-playground-caj-01"
      + outbound_ip_addresses        = (known after apply)
      + replica_retry_limit          = 1
      + replica_timeout_in_seconds   = 1800
      + resource_group_name          = "dx-d-itn-playground-rg-01"
      + tags                         = {
          + "CostCenter"     = "TS000 - Tecnologia e Servizi"
          + "CreatedBy"      = "Terraform"
          + "Environment"    = "Dev"
          + "ManagementTeam" = "Developer Experience"
          + "ModuleName"     = "github_selfhosted_runner_on_container_app_jobs"
          + "ModuleSource"   = "DX"
          + "ModuleVersion"  = "1.0.10"
          + "Owner"          = "DevEx"
          + "Source"         = "https://github.com/pagopa/dx-playground/blob/main/infra/bootstrapper/dev"
        }

      + event_trigger_config {
          + parallelism              = 1
          + replica_completion_count = 1

          + scale {
              + max_executions              = 30
              + min_executions              = 0
              + polling_interval_in_seconds = 30

              + rules {
                  + custom_rule_type = "github-runner"
                  + metadata         = {
                      + "github-runner"             = "https://api.github.com"
                      + "owner"                     = "pagopa"
                      + "repos"                     = "dx-playground"
                      + "runnerScope"               = "repo"
                      + "targetWorkflowQueueLength" = "1"
                    }
                  + name             = "github-runner-rule"

                  + authentication {
                      + secret_name       = "github-runner-pat"
                      + trigger_parameter = "personalAccessToken"
                    }
                }
            }
        }

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }

      + secret {
          # At least one attribute in this block is (or was) sensitive,
          # so its contents will not be displayed.
        }

      + template {
          + container {
              + cpu               = 0.5
              + ephemeral_storage = (known after apply)
              + image             = "ghcr.io/pagopa/github-self-hosted-runner-azure:latest"
              + memory            = "1Gi"
              + name              = "github-runner"

              + env {
                  + name  = "REPO_URL"
                  + value = "https://github.com/pagopa/dx-playground"
                }
              + env {
                  + name  = "REGISTRATION_TOKEN_API_URL"
                  + value = "https://api.github.com/repos/pagopa/dx-playground/actions/runners/registration-token"
                }
              + env {
                  + name        = "GITHUB_PAT"
                  + secret_name = "github-runner-pat"
                }
            }
        }
    }

  # module.bootstrap.module.github_runner.azurerm_key_vault_access_policy.keyvault_containerapp[0] will be created
  + resource "azurerm_key_vault_access_policy" "keyvault_containerapp" {
      + id                 = (known after apply)
      + key_vault_id       = "/subscriptions/35e6e3b2-4388-470e-a1b9-ad3bc34326d1/resourceGroups/dx-d-itn-common-rg-01/providers/Microsoft.KeyVault/vaults/dx-d-itn-common-kv-01"
      + object_id          = (known after apply)
      + secret_permissions = [
          + "Get",
        ]
      + tenant_id          = (known after apply)
    }

Plan: 82 to add, 1 to change, 0 to destroy.



Note: You didn't use the -out option to save this plan, so Terraform can't
guarantee to take exactly these actions if you run "terraform apply" now.
